// Generated by CoffeeScript 1.6.3
(function() {
  var DEFAULT_KEY_NAME, dateJSON, exports;

  DEFAULT_KEY_NAME = "trashed_at";

  dateJSON = function(key) {
    var json;
    json = {};
    json[key] = Date;
    return json;
  };

  module.exports = exports = function(schema, options) {
    var keyName;
    keyName = (options || {}).keyName || DEFAULT_KEY_NAME;
    schema.add(dateJSON(keyName));
    schema.methods.trash = function(callbak) {
      this[keyName] = Date.now();
      this.save(callbak);
    };
    return schema.methods.untrash = function(callbak) {
      this[keyName] = null;
      this.save(callbak);
    };
  };

}).call(this);
